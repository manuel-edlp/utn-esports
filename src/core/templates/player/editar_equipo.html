{% extends 'base.html' %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/player/editar_equipo.css' %}">
{% endblock %}

{% block main %}
<section class="register-section">
    <div class="register-container">
        <h2>Editar Equipo: {{ equipo.nombre }}</h2>
        <p>Completa el formulario para editar tu equipo en la Liga Leyendas del Sur.</p>

        <!-- Formulario para editar equipo -->
        <form class="register-form" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <!-- Campo: Nombre del equipo -->
            <div class="form-group">
                <label for="nombre"><strong>Nombre:</strong></label>
                <input type="text" id="nombre" name="nombre" value="{{ equipo.nombre }}" required placeholder="Ingresa el nombre del equipo">
            </div>

            <!-- Campo: Abreviatura -->
            <div class="form-group">
                <label for="abreviatura"><strong>Abreviatura:</strong></label>
                <input type="text" id="abreviatura" name="abreviatura" value="{{ equipo.abreviatura }}" required placeholder="Ingresa la abreviatura">
            </div>

            <!-- Campo: Logo del equipo -->
            <div class="form-group">
                <label for="logo"><strong>Logo:</strong></label>
                <input type="file" id="logo" name="logo" accept="image/png, image/jpeg, image/jpg">
                {% if equipo.logo %}
                    <p>Logo actual: <a href="{{ equipo.logo.url }}" target="_blank">{{ equipo.logo.name }}</a></p>
                {% endif %}
            </div>

            <!-- Campo: Comprobante de pago -->
            <div class="form-group">
                <label for="comprobante_pago"><strong>Comprobante de pago:</strong></label>
                <p id="info-pago">Para que tu equipo sea aprobado y puedas participar de la liga el equipo debe realizar el pago de la inscripción de cada integrante.  Hay dos opciones de hacerlo (no se admitirán ambas al mismo tiempo).

                1. Un integrante paga la sumatoria de todas las inscripciones mediante una sola transferencia y adjunta foto del comprobante. 
                    
                2. Cada integrante realiza una transferencia con el monto de su inscripcion y cada uno adjunta una foto de su comprobante. 
                    
                <strong>Monto de la inscripción por persona:</strong>
                Jugadores Argentinos: $20.000 (ARS)
                Jugadores Argentinos que pertenecen a la UTN FRLP: $10.000 (ARS)
                Jugadores de otros países: $19 (USD)
            
                <strong>Alias:</strong> leyendas.del.sur
                <strong>CBU:</strong> 0000003100065678901234
            </p>
            <input type="file" id="comprobante_pago" name="comprobante_pago" accept="image/png, image/jpeg, image/jpg, application/zip, application/x-rar-compressed">
                {% if equipo.comprobante_pago %}
                    <p>Comprobante actual: <a href="{{ equipo.comprobante_pago.url }}" target="_blank">{{ equipo.comprobante_pago.name }}</a></p>
                {% endif %}
            </div>
            {% if messages %}
                {% for message in messages %}
                    {% if "error-tipo-archivo" in message.tags %}
                        <div class="alert-error">
                            <p>Error: {{ message }}</p>
                        </div>
                    {% endif %}
                {% endfor %}
            {% endif %}

            <!-- Botones: Cancelar y Guardar Cambios -->
            <div class="form-buttons">
                <a href="{% url 'player_home' %}" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-secondary">Guardar Cambios</button>
            </div>
        </form>
    </div>
</section>

{% endblock %}